# 微波告警数据集

## 训练数据集

按时间`(10 min时间窗)`及空间`(设备拓扑)`进行告警分组，且只选择出现的告警种类`不小于6`的告警分组：

* 数据集A：使用告警在分组内的出现次数作为度量值
* 数据集B：使用告警在分组内是否出现（0-1）作为度量值
* 数据集C：使用告警在分组内的最大持续时间作为度量值
* 数据集D：使用告警在分组内的最小发生时刻作为度量值

仅按时间`(10 min时间窗)`进行告警分组`，不考虑设备之间的连接拓扑：

* 数据集E：使用告警在分组内的出现次数作为度量值
* 数据集F：使用告警在分组内是否出现（0-1）作为度量值
* 数据集G：使用告警在分组内的最大持续时间作为度量值
* 数据集H：使用告警在分组内的最小发生时刻作为度量值

**说明:**

* 数据集A~H均以`shape = (num_samples, num_variables)`的DataFrame形式（pickle或转存的csv格式）提供，数据集A~D的`shape =(22589,55)`，数据集E~H 的`shape=(864,57)`.
* 在生成数据集A~H过程中均去除了无训练样本的告警类型，所以两类数据集的的所包含的变量（告警类型）数量会不一致，在对各数据集训练生成 的因果图进行评测时只考虑在当前训练集中出现的告警类型.
* 具体数据集获取请联系：`zhangkeli1@huawei.com`

## 实验

**评价指标(metrics):**  

* `Precison = TP/(TP+FP)`
* `Recall = TP/(TP+FN)`
* [ ] TP表示因果图本身存在的边,且学习到的结果中也存在边的数目
* [ ] FP表示因果图本身不存在的边，而学习到的结果存在的边的数目
* [ ] FN表示因果图本身存在的边，而学习到的结果不存在的边的数目
* [ ] 这里的边均指有向边

**结果:**  
`注：表中元组为（precision，recall）`

| 算法                                 | 数据集A         | 数据集B         | 数据集C         | 数据集E          | 数据集F       | 数据集G         | 原始数据集      | 总耗时                 |
| ------------------------------------ | --------------- | --------------- | --------------- | ---------------- | ------------- | --------------- | --------------- | ---------------------- |
| PC-fisherz                           | (0.265,0.078)   | (0.279,0.101)   | `(0.295,0.139)` | (0.309,0.101)    | (0.160,0.013) | (0.22,0.045)    | -               | 6个数据集，共耗时2501s |
| PC-gsquare                           | -               | `(0.249,0.179)` | -               | -                | (0.167,0.013) | -               | -               | -                      |
| NOTEARS                              | `(0.362,0.030)` | (0.667,0.01)    | (0.268,0.020)   | (0.217,0.108)    | (0.192,0.008) | `(0.260,0.106)` | -               | 6个数据集，共耗时2230s |
| TSDN                                 | (0.216,0.230)   | (0.211,0.231)   | (0.216,0.211)   | `(0.191,0.376) ` | (0.179,0.101) | `(0.208,0.358)` | -               | 6个数据集，共耗时28s   |
| Log-Linear                           | -               | -               | -               | -                | -             | -               | `(0.247,0.471)` | -                      |
| Scored-based Method + Hawkes Process | -               | -               | -               | -                | -             | -               | `(0.325,0.22) ` | -                      |

**说明:**

* 上述实验使用的的标注数据（邻接矩阵形式）通过专家手工标注完成，但由于涉及边数目较多（62*61 /2 = 1891 edges），且专家对非直接因果关系的标注不敏感，标注数据需持续进行优化，目前也在通过产品文档对标注辅助进行调整和确认.

* 产品手册:https://support.huawei.com/carrier/navi?coltype=product#col=product&path=PBI1-7851894/PBI1-23709925/PBI1-7275894
